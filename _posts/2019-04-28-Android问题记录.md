---
layout: post
title: Android问题记录
categories: Android
description: 记录Android开发过程遇到的问题，及解决方案
keywords: Android, 记录

---



Android 问题记录

### 1、问题：Your project path contains non-ASCII characters.

​	 解决：项目中包含了中午路径导致。



### 2、问题：Manifest merger failed with multiple errors, see logs

​	![1552359278035](https://raw.githubusercontent.com/BrianCZY/BrianCZY.github.io/master/images/blog/android_question_recod/1552359278035.png?raw=true)



解决：

（1）在cmd 控制台执行命令：gradlew processDebugManifest --stacktrace

![1552359787641](https://raw.githubusercontent.com/BrianCZY/BrianCZY.github.io/master/images/blog/android_question_recod/1552359787641.png?raw=true)

（2）获得出错的详细信息

![1552360216777](https://raw.githubusercontent.com/BrianCZY/BrianCZY.github.io/master/images/blog/android_question_recod/1552360216777.png?raw=true)

这里的主要原因是因为我导入 百度文字识别的UI 作为我的module，导致icon 冲突问题，最后一句是解决的建议： Suggestion: add 'tools:replace="android:icon"' to <application> element at AndroidManifest.xml:68:5-171:19 to override.

（3）解决问题，在AndroidManifest.xml添加：tools:replace="android:icon"

![1552360897482](https://raw.githubusercontent.com/BrianCZY/BrianCZY.github.io/master/images/blog/android_question_recod/1552360897482.png?raw=true)

(4)clean 一下项目，问题解决。



### 3、v4 包与Androidx 冲突问题

项目中使用的Androidx 包，导入了百度的文字识别ocr_ui  module，使用的是support 包，故出现support 包和Androidx包冲突。

报错信息如下图所示：

![1552361835656](https://raw.githubusercontent.com/BrianCZY/BrianCZY.github.io/master/images/blog/android_question_recod/1552361835656.png?raw=true)

进入到具体的类中，看到support包出错。

![1552361999577](https://raw.githubusercontent.com/BrianCZY/BrianCZY.github.io/master/images/blog/android_question_recod/1552361999577.png?raw=true)

**解决方式：**将所有的support 包换成 Androidx 包即可。分别为ocr_ui的build.gradle 替换为Androidx ;

java 代码中的导包替换成Androidx。



![1552370169125](https://raw.githubusercontent.com/BrianCZY/BrianCZY.github.io/master/images/blog/android_question_recod/1552370169125.png?raw=true)





![1552362080947](https://raw.githubusercontent.com/BrianCZY/BrianCZY.github.io/master/images/blog/android_question_recod/1552362080947.png?raw=true)





### 4、adb 连接手机报错： VB01D91300734   unauthorized



尝试了重新连接USB线、adb kill-server  & adb start-server 、重新打开开发者模式 、添加VID 到adb_usb.ini 文件都没有解决问题。

**解决方案：** 重置Android 设备~~



### 5、bindService 返回 false ，无法绑定服务的问题

代码如下：（其中mContext是由Acitivty传递过来）

```java
Intent gattServiceIntent = new Intent(mContext, BluetoothLeService.class);
boolean bindResult = mContext.bindService(gattServiceIntent, mServiceConnection, mContext.BIND_AUTO_CREATE);
```



**解决方案：**

改用getApplicationContext() 来绑定服务

```java
Intent gattServiceIntent = new Intent(mContext, BluetoothLeService.class);
boolean bindResult = mContext.getApplicationContext().bindService(gattServiceIntent, mServiceConnection, mContext.BIND_AUTO_CREATE);
```



### 6、Could not find com.android.tools.build:aapt2:3.3.2-5309881.

```xml
Could not find com.android.tools.build:aapt2:3.3.2-5309881.
Searched in the following locations:
  - file:/C:/Users/brian/AppData/Local/Android/Sdk/extras/m2repository/com/android/tools/build/aapt2/3.3.2-5309881/aapt2-3.3.2-5309881.pom
  - file:/C:/Users/brian/AppData/Local/Android/Sdk/extras/m2repository/com/android/tools/build/aapt2/3.3.2-5309881/aapt2-3.3.2-5309881-windows.jar
  - file:/C:/Users/brian/AppData/Local/Android/Sdk/extras/google/m2repository/com/android/tools/build/aapt2/3.3.2-5309881/aapt2-3.3.2-5309881.pom
  - file:/C:/Users/brian/AppData/Local/Android/Sdk/extras/google/m2repository/com/android/tools/build/aapt2/3.3.2-5309881/aapt2-3.3.2-5309881-windows.jar
  - file:/C:/Users/brian/AppData/Local/Android/Sdk/extras/android/m2repository/com/android/tools/build/aapt2/3.3.2-5309881/aapt2-3.3.2-5309881.pom
  - file:/C:/Users/brian/AppData/Local/Android/Sdk/extras/android/m2repository/com/android/tools/build/aapt2/3.3.2-5309881/aapt2-3.3.2-5309881-windows.jar
  - https://jcenter.bintray.com/com/android/tools/build/aapt2/3.3.2-5309881/aapt2-3.3.2-5309881.pom
  - https://jcenter.bintray.com/com/android/tools/build/aapt2/3.3.2-5309881/aapt2-3.3.2-5309881-windows.jar
  - http://dl.bintray.com/kotlin/kotlin-eap-1.1/com/android/tools/build/aapt2/3.3.2-5309881/aapt2-3.3.2-5309881.pom
  - http://dl.bintray.com/kotlin/kotlin-eap-1.1/com/android/tools/build/aapt2/3.3.2-5309881/aapt2-3.3.2-5309881-windows.jar
  - https://clojars.org/repo/com/android/tools/build/aapt2/3.3.2-5309881/aapt2-3.3.2-5309881.pom
  - https://clojars.org/repo/com/android/tools/build/aapt2/3.3.2-5309881/aapt2-3.3.2-5309881-windows.jar
  - https://jitpack.io/com/android/tools/build/aapt2/3.3.2-5309881/aapt2-3.3.2-5309881.pom
  - https://jitpack.io/com/android/tools/build/aapt2/3.3.2-5309881/aapt2-3.3.2-5309881-windows.jar
Required by:
    project :lib-db

```

 在build.gradle文件下添加 google()配置即可。注意是根目录下的build.gradle，而不是app里的build.gradle
```
allprojects {
    repositories {
        jcenter()
        google()//新增的
    }
}

```



### 7 Fatal signal 11 (SIGSEGV), code 1, fault addr 0x0 in tid 2569 (RenderThread)

报错信息如下：
```xml
    --------- beginning of crash
05-05 10:19:49.891 2425-2569/com.yich.lungscheck1 A/libc: Fatal signal 11 (SIGSEGV), code 1, fault addr 0x0 in tid 2569 (RenderThread)
05-05 10:19:49.891 917-917/? E/MultiWindowProxy: getServiceInstance failed!
05-05 10:19:49.892 207-207/? D/AEE/AED: $===AEE===AEE===AEE===$
05-05 10:19:49.892 207-207/? D/AEE/AED: p 0 poll events 1 revents 0
05-05 10:19:49.892 207-207/? D/AEE/AED: not know revents:0
05-05 10:19:49.893 207-207/? D/AEE/AED: p 1 poll events 1 revents 0
05-05 10:19:49.893 207-207/? D/AEE/AED: not know revents:0
05-05 10:19:49.893 207-207/? D/AEE/AED: p 2 poll events 1 revents 1
05-05 10:19:49.893 207-207/? D/AEE/AED: aed_main_fork_worker: generator 0xb6c46090, worker 0xbef74888, recv_fd 0
05-05 10:19:49.894 782-877/? D/PerfServiceManager: [PerfService] MESSAGE_TIMEOUT:103 
05-05 10:19:49.894 2951-2951/? I/AEE/AED: handle_request(0)
05-05 10:19:49.894 782-877/? I/libPerfService: 3: set freq: 1300000
05-05 10:19:49.895 2951-2951/? I/AEE/AED: check process 2425 name:ich.lungscheck1
05-05 10:19:49.895 2951-2951/? I/AEE/AED: tid 2569 abort msg address is:0x00000000, si_code is:0 (request from 1:2425)
05-05 10:19:49.895 207-207/? D/AEE/AED: aee handle:-1, cpu cores:4, online:4
05-05 10:19:49.895 207-207/? D/AEE/AED: p 3 poll events 1 revents 0
05-05 10:19:49.895 207-207/? D/AEE/AED: not know revents:0
05-05 10:19:49.895 207-207/? D/AEE/AED: p 4 poll events 1 revents 0
05-05 10:19:49.895 207-207/? D/AEE/AED: not know revents:0
05-05 10:19:49.895 207-207/? D/AEE/AED: p 5 poll events 0 revents 0
05-05 10:19:49.895 207-207/? D/AEE/AED: not know revents:0
05-05 10:19:49.896 2951-2951/? I/AEE/AED: BOOM: pid=2425 uid=10071 gid=10071 tid=2569
05-05 10:19:49.897 2951-2951/? I/AEE/AED: [OnPurpose Redunant in void preset_info(aed_report_record*, int, int)] pid: 2425, tid: 2569, name: RenderThread  >>> com.yich.lungscheck1 <<<
05-05 10:19:49.931 917-917/? D/SettingsInterface:  from settings cache , name = sunmi_super_app_mode , value = 0
05-05 10:19:49.934 917-917/? D/SettingsInterface:  from settings cache , name = assistant , value = null
05-05 10:19:49.939 917-917/? D/SettingsInterface:  from settings cache , name = assistant , value = null
05-05 10:19:49.946 917-917/? V/ActivityThread: Performing resume of ActivityRecord{300851f token=android.os.BinderProxy@4c2506c {com.android.systemui/com.android.systemui.recents.RecentsActivity}}
05-05 10:19:49.947 917-917/? D/ActivityThread: ACT-AM_ON_RESUME_CALLED ActivityRecord{300851f token=android.os.BinderProxy@4c2506c {com.android.systemui/com.android.systemui.recents.RecentsActivity}}
05-05 10:19:49.947 917-917/? V/ActivityThread: Resume ActivityRecord{300851f token=android.os.BinderProxy@4c2506c {com.android.systemui/com.android.systemui.recents.RecentsActivity}} started activity: false, hideForNow: false, finished: false
05-05 10:19:49.947 917-917/? V/PhoneWindow: DecorView setVisiblity: visibility = 4 ,Parent =null, this =com.android.internal.policy.PhoneWindow$DecorView{c32543b I.E...... R.....I. 0,0-0,0}
05-05 10:19:49.948 917-917/? D/WindowClient: Add to mViews: com.android.internal.policy.PhoneWindow$DecorView{c32543b I.E...... R.....I. 0,0-0,0}, this = android.view.WindowManagerGlobal@e9c39ca
05-05 10:19:49.949 2951-2951/? I/AEE/AED: *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***
05-05 10:19:49.950 2951-2951/? I/AEE/AED: Build fingerprint: 'SUNMI/full_rlk6580_we_c_m/rlk6580_we_c_m:6.0/MRA58K/1543227248:user/test-keys'
05-05 10:19:49.950 2951-2951/? I/AEE/AED: Revision: '0'
05-05 10:19:49.950 2951-2951/? I/AEE/AED: ABI: 'arm'
05-05 10:19:49.950 2951-2951/? I/AEE/AED: pid: 2425, tid: 2569, name: RenderThread  >>> com.yich.lungscheck1 <<<
05-05 10:19:49.950 2951-2951/? I/AEE/AED: signal 11 (SIGSEGV), code 1 (SEGV_MAPERR), fault addr 0
05-05 10:19:49.952 917-1312/? D/OpenGLRenderer: CanvasContext() 0xaa0f3800
05-05 10:19:49.955 917-917/? D/ViewRootImpl: hardware acceleration is enabled, this = ViewRoot{aceb20b com.android.systemui/com.android.systemui.recents.RecentsActivity,ident = 5}
05-05 10:19:49.957 782-906/? D/WindowManager: addWindowToListInOrderLocked: win=Window{f8039db u0 com.android.systemui/com.android.systemui.recents.RecentsActivity} Callers=com.android.server.wm.WindowManagerService.addWindow:2772 com.android.server.wm.Session.addToDisplay:171 android.view.IWindowSession$Stub.onTransact:124 com.android.server.wm.Session.onTransact:133 
05-05 10:19:49.966 917-917/? V/ActivityThread: Resuming ActivityRecord{300851f token=android.os.BinderProxy@4c2506c {com.android.systemui/com.android.systemui.recents.RecentsActivity}} with isForward=true
05-05 10:19:49.966 917-917/? V/PhoneWindow: DecorView setVisiblity: visibility = 0 ,Parent =ViewRoot{aceb20b com.android.systemui/com.android.systemui.recents.RecentsActivity,ident = 5}, this =com.android.internal.policy.PhoneWindow$DecorView{c32543b V.E...... R.....I. 0,0-0,0}
05-05 10:19:49.966 917-917/? V/ActivityThread: Scheduling idle handler for ActivityRecord{300851f token=android.os.BinderProxy@4c2506c {com.android.systemui/com.android.systemui.recents.RecentsActivity}}
05-05 10:19:49.968 917-917/? D/ActivityThread: ACT-LAUNCH_ACTIVITY handled : 0 / ActivityRecord{300851f token=android.os.BinderProxy@4c2506c {com.android.systemui/com.android.systemui.recents.RecentsActivity}}
05-05 10:19:49.988 2951-2951/? I/AEE/AED:     r0 9e391d40  r1 00000000  r2 00000000  r3 b5c2f400
05-05 10:19:49.988 2951-2951/? I/AEE/AED:     r4 9e046380  r5 a1e3b540  r6 0000002c  r7 0000b2e4
05-05 10:19:49.988 2951-2951/? I/AEE/AED:     r8 b6f1b028  r9 00000000  sl 7fffffff  fp aa063cc4
05-05 10:19:49.988 2951-2951/? I/AEE/AED:     ip a28b9000  sp a139f820  lr b5c12b55  pc 00000000  cpsr 60070010
05-05 10:19:49.989 2951-2951/? E/AEE/LIBAEE: aee_try_get_word: read:2569 addr:0x00000000 ret:-1, 5
05-05 10:19:50.005 2951-2951/? I/AEE/AED: backtrace:
05-05 10:19:50.005 2951-2951/? I/AEE/AED:     #00 pc 00000000  <unknown>
05-05 10:19:50.005 2951-2951/? I/AEE/AED:     #01 pc 0005eb53  /system/lib/libhwui.so
05-05 10:19:50.005 2951-2951/? I/AEE/AED:     #02 pc 0005ebff  /system/lib/libhwui.so
05-05 10:19:50.005 2951-2951/? I/AEE/AED:     #03 pc 00026d87  /system/lib/libhwui.so (_ZN7android10uirenderer6Caches5flushENS1_9FlushModeE+86)
05-05 10:19:50.005 2951-2951/? I/AEE/AED:     #04 pc 0001cb73  /system/lib/libhwui.so
05-05 10:19:50.005 2951-2951/? I/AEE/AED:     #05 pc 00020071  /system/lib/libhwui.so
05-05 10:19:50.006 2951-2951/? I/AEE/AED:     #06 pc 0001ff05  /system/lib/libhwui.so
05-05 10:19:50.006 2951-2951/? I/AEE/AED:     #07 pc 00021d83  /system/lib/libhwui.so (_ZN7android10uirenderer12renderthread12RenderThread10threadLoopEv+62)
05-05 10:19:50.006 2951-2951/? I/AEE/AED:     #08 pc 00010079  /system/lib/libutils.so (_ZN7android6Thread11_threadLoopEPv+112)
05-05 10:19:50.006 2951-2951/? I/AEE/AED:     #09 pc 0006324b  /system/lib/libandroid_runtime.so (_ZN7android14AndroidRuntime15javaThreadShellEPv+70)
05-05 10:19:50.006 2951-2951/? I/AEE/AED:     #10 pc 0004065b  /system/lib/libc.so (_ZL15__pthread_startPv+30)
05-05 10:19:50.006 2951-2951/? I/AEE/AED:     #11 pc 0001a025  /system/lib/libc.so (__start_thread+6)

```



原因：

由于在子线程操作出现的问题。

解决：